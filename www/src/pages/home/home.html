<div class="page-home">

  <!-- Loading spinner -->
  <div class="load-screen" loading-spinner="{{settings.loadingGeoLocation || carousel.loading}}" >
    <span ng-show="settings.loadingGeoLocation">Finding your position</span>
    <span ng-show="carousel.loading && !settings.loadingGeoLocation">Finding meals near you</span>
  </div>

  <!-- Actions -->
  <div class="actions" ng-show="carousel.items.length > 0 && !isTouch">
    <p>{{carousel.index + 1}}/{{carousel.items.length}}</p>
  </div>

  <!-- Carousel -->
  <ul rn-carousel rn-carousel-index="carousel.index" rn-carousel-buffered="true">
    <li class="single-meal" ng-repeat="meal in carousel.items">
      <div class="page-header">
        <h1 class="page-title" ng-bind="meal.name"></h1>
      </div>
      <div class="content">
        <div class="price"><span ng-bind="meal.prices[0].amount">$</span>
        </div>
        <div ng-style="{'background-image':'url({{meal.image}})'}" class="meal" ng-click="addRestaurantOverlay(meal.restaurant)">
        </div>

        <div class="footer">
          <p ng-show="meal.description" class="description" ng-bind="meal.description" class="description"></p>
        </div>
      </div>
    </li>
  </ul>

  <!-- Map overlay and restaurant info -->
  <div class="overlay" ng-if="settings.restaurantOverlay">
    <div class="page-header">
      <h1>{{settings.clickedRestaurant.name}}</h1>
    </div>
    <div
      class="google-maps-directions"
      distance="settings.clickedRestaurant.distance"
      from="settings.currentLocation"
      to="settings.clickedRestaurant.coordinate">
    </div>
    <div class="page-content">
      <span ng-bind="settings.clickedRestaurant.distance"></span>
      <p><a class="button" href="tel://1-555-555-5555">Call</a></p>
      <p><a ng-click="removeRestaurantOverlay()">Back</a></p>
    </div>
  </div>

  <!-- No meals nearby -->
  <div ng-show="carousel.items.length === 0 && !settings.loadingGeoLocation && !carousel.loading">
    No tasty meals nearby :(
  </div>
</div>


<!--
           <p class="price">$<span ng-bind="meal.prices[0].amount" ></span></p> -->
